{"mappings":"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","sources":["src/js/03-promises.js","src/js/x-notify.js"],"sourcesContent":["import { XNotify } from './x-notify';\nconst delayField = document.querySelector('[name=\"delay\"]');\nconst delayStepField = document.querySelector('[name=\"step\"]');\nconst promiceAmountField = document.querySelector('[name=\"amount\"]');\nconst form = document.querySelector('.form');\nconst Notify = new XNotify('TopRight');\n\nform.addEventListener('submit', submitHandler);\n\nfunction submitHandler(e) {\n  e.preventDefault();\n  let currentTimer = Number(delayField.value);\n  let stepDelay = Number(delayStepField.value);\n  const promises = [];\n  for (let val = 1; val <= promiceAmountField.value; val++) {\n    const anotherPromiseInTheWall = createPromise(val, currentTimer)\n      .then(({ position, delay }) => {\n        Notify.success({\n          width: '350px',\n          title: `✅ Fulfilled promise ${position} in ${delay}ms`,\n          duration: 800,\n        });\n      })\n      .catch(({ position, delay }) => {\n        Notify.error({\n          width: '350px',\n          title: `❌ Rejected promise ${position} in ${delay}ms`,\n          duration: 800,\n        });\n      });\n\n    promises.push(anotherPromiseInTheWall);\n\n    currentTimer += stepDelay;\n  }\n  Promise.allSettled(promises).then(() => {\n    console.log('This is the end... My only friend, the end...');\n  });\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.5;\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        res({ position, delay });\n      } else {\n        rej({ position, delay });\n      }\n    }, delay);\n  });\n}","class XNotify {\r\n    constructor(position) {\r\n      this.position = this.empty(position) ? 'TopRight' : position;\r\n  \r\n      this.defaults = {\r\n        width: '250px',\r\n        borderRadius: '10px',\r\n        duration: 5000,\r\n        color: 'rgb(255,255,255)',\r\n        success: {\r\n          title: 'Success Notification',\r\n          description: '',\r\n          background: 'rgb(40,200,80)',\r\n        },\r\n        error: {\r\n          title: 'Error Notification',\r\n          description: '',\r\n          background: 'rgb(230,50,50)',\r\n        },\r\n        alert: {\r\n          title: 'Alert Notification',\r\n          description: '',\r\n          background: 'rgb(240,180,10)',\r\n        },\r\n        info: {\r\n          title: 'Info Notification',\r\n          description: '',\r\n          background: 'rgb(170,80,220)',\r\n        },\r\n      };\r\n    }\r\n  \r\n    setOptions(options, type) {\r\n      this.width = this.empty(options.width)\r\n        ? this.defaults.width\r\n        : options.width;\r\n  \r\n      this.borderRadius = this.empty(options.borderRadius)\r\n        ? this.defaults.borderRadius\r\n        : options.borderRadius;\r\n  \r\n      this.title = this.empty(options.title)\r\n        ? this.defaults[type].title\r\n        : options.title;\r\n  \r\n      this.description = this.empty(options.description)\r\n        ? this.defaults[type].description\r\n        : options.description;\r\n  \r\n      this.duration = this.empty(options.duration)\r\n        ? this.defaults.duration\r\n        : options.duration;\r\n  \r\n      this.background = this.empty(options.background)\r\n        ? this.defaults[type].background\r\n        : options.background;\r\n  \r\n      this.color = this.empty(options.color)\r\n        ? this.defaults.color\r\n        : options.color;\r\n    }\r\n  \r\n    success(options) {\r\n      this.setOptions(options, 'success');\r\n      let element = this.createElement();\r\n      this.showNotification(element);\r\n    }\r\n  \r\n    error(options) {\r\n      this.setOptions(options, 'error');\r\n      let element = this.createElement();\r\n      this.showNotification(element);\r\n    }\r\n  \r\n    alert(options) {\r\n      this.setOptions(options, 'alert');\r\n      let element = this.createElement();\r\n      this.showNotification(element);\r\n    }\r\n  \r\n    info(options) {\r\n      this.setOptions(options, 'info');\r\n      let element = this.createElement();\r\n      this.showNotification(element);\r\n    }\r\n  \r\n    createElement() {\r\n      if (!document.getElementById('x-notify-container')) {\r\n        let body = document.getElementsByTagName('body')[0];\r\n  \r\n        let height = 'calc(100% - 20px)';\r\n        let paddingRight = '20px';\r\n        let paddingLeft = '0';\r\n        let top = '0';\r\n        let right = '0';\r\n        let bottom = 'auto';\r\n        let left = 'auto';\r\n  \r\n        switch (this.position) {\r\n          case 'BottomRight':\r\n            height = 'auto';\r\n            top = 'auto';\r\n            bottom = '0';\r\n            break;\r\n          case 'BottomLeft':\r\n            height = 'auto';\r\n            paddingRight = '0';\r\n            paddingLeft = '20px';\r\n            top = 'auto';\r\n            right = 'auto';\r\n            bottom = '0';\r\n            left = '0';\r\n            break;\r\n          case 'TopLeft':\r\n            paddingRight = '0';\r\n            paddingLeft = '20px';\r\n            right = 'auto';\r\n            left = '0';\r\n            break;\r\n        }\r\n  \r\n        let container = document.createElement('div');\r\n        container.id = 'x-notify-container';\r\n        container.style =\r\n          'position:fixed; z-index:999; width:calc(' +\r\n          this.width +\r\n          ' + 70px); height:' +\r\n          height +\r\n          '; pointer-events:none; overflow-x:hidden; overflow-y:auto; -webkit-overflow-scrolling:touch; scroll-behavior:smooth; scrollbar-width:none; padding-top:20px; padding-right:' +\r\n          paddingRight +\r\n          '; padding-left:' +\r\n          paddingLeft +\r\n          '; top:' +\r\n          top +\r\n          '; right:' +\r\n          right +\r\n          '; bottom:' +\r\n          bottom +\r\n          '; left:' +\r\n          left +\r\n          ';';\r\n  \r\n        body.appendChild(container);\r\n      }\r\n  \r\n      let align =\r\n        this.position === 'TopRight' || this.position === 'BottomRight'\r\n          ? 'right'\r\n          : 'left';\r\n  \r\n      let row = document.createElement('div');\r\n      row.id = this.generateID();\r\n      row.style =\r\n        'display:block; padding:0 0 20px 0; text-align:' +\r\n        align +\r\n        '; width:100%;';\r\n  \r\n      let notification = document.createElement('div');\r\n      notification.classList.add('x-notification');\r\n      notification.style =\r\n        'background:' +\r\n        this.background +\r\n        '; color:' +\r\n        this.color +\r\n        '; width:' +\r\n        this.width +\r\n        '; border-radius:' +\r\n        this.borderRadius +\r\n        '; padding:10px 12px 12px 12px; font-family:\"Helvetica Neue\", \"Lucida Grande\", \"Arial\", \"Verdana\", \"Tahoma\", sans-serif; display:inline-block; text-align:left; opacity:0; pointer-events:auto; -webkit-user-select:none; -khtml-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select:none; outline:none;';\r\n  \r\n      notification.innerHTML =\r\n        '<span style=\"font-size:18px; font-weight:bold; color:' +\r\n        this.color +\r\n        '; display:block; line-height:25px;\">' +\r\n        this.title +\r\n        '</span><span style=\"font-size:16px; color:' +\r\n        this.color +\r\n        '; display:block; margin-top:5px; line-height:25px;\">' +\r\n        this.description +\r\n        '</span>';\r\n  \r\n      row.append(notification);\r\n  \r\n      return row;\r\n    }\r\n  \r\n    showNotification(element) {\r\n      let container = document.getElementById('x-notify-container');\r\n  \r\n      let notification = element.getElementsByClassName('x-notification')[0];\r\n  \r\n      if (this.position === 'BottomRight' || this.position === 'BottomLeft') {\r\n        container.append(element);\r\n        if (container.scrollHeight > window.innerHeight) {\r\n          container.style.height = 'calc(100% - 20px)';\r\n        }\r\n        container.scrollTo(0, container.scrollHeight);\r\n      } else {\r\n        container.prepend(element);\r\n      }\r\n  \r\n      let opacity = 0.05;\r\n      let animation = setInterval(() => {\r\n        opacity += 0.05;\r\n        notification.style.opacity = opacity;\r\n        if (opacity >= 1) {\r\n          notification.style.opacity = 1;\r\n          clearInterval(animation);\r\n        }\r\n      }, 10);\r\n  \r\n      setTimeout(() => {\r\n        this.hideNotification(element);\r\n      }, this.duration);\r\n    }\r\n  \r\n    hideNotification(element) {\r\n      let container = document.getElementById('x-notify-container');\r\n  \r\n      let notification = element.getElementsByClassName('x-notification')[0];\r\n  \r\n      let opacity = 1;\r\n      let animation = setInterval(() => {\r\n        opacity -= 0.05;\r\n        notification.style.opacity = opacity;\r\n        if (opacity <= 0) {\r\n          element.remove();\r\n          clearInterval(animation);\r\n        }\r\n      }, 10);\r\n  \r\n      if (container.scrollHeight <= window.innerHeight) {\r\n        container.style.height = 'auto';\r\n      }\r\n  \r\n      if (this.empty(container.innerHTML)) {\r\n        container.remove();\r\n      }\r\n    }\r\n  \r\n    clear() {\r\n      let container = document.getElementById('x-notify-container');\r\n      let notifications = container.getElementsByClassName('x-notification');\r\n  \r\n      for (let i = 0; i < notifications.length; i++) {\r\n        this.hideNotification(notifications[i]);\r\n      }\r\n    }\r\n  \r\n    generateID() {\r\n      let id = this.epoch() + '-' + this.shuffle(this.epoch());\r\n  \r\n      if (this.empty(document.getElementById('x-notify-container').innerHTML)) {\r\n        return id;\r\n      }\r\n  \r\n      let invalid = true;\r\n  \r\n      while (invalid) {\r\n        if (document.getElementById(id)) {\r\n          id = this.epoch() + '-' + this.shuffle(this.epoch());\r\n        } else {\r\n          invalid = false;\r\n          break;\r\n        }\r\n      }\r\n  \r\n      return id;\r\n    }\r\n  \r\n    shuffle(string) {\r\n      let parts = string.toString().split('');\r\n      for (let i = parts.length; i > 0; ) {\r\n        let random = parseInt(Math.random() * i);\r\n        let temp = parts[--i];\r\n        parts[i] = parts[random];\r\n        parts[random] = temp;\r\n      }\r\n      return parts.join('');\r\n    }\r\n  \r\n    epoch() {\r\n      var date = new Date();\r\n      var time = Math.round(date.getTime() / 1000);\r\n      return time;\r\n    }\r\n  \r\n    empty(value) {\r\n      if (\r\n        value === null ||\r\n        typeof value === 'undefined' ||\r\n        value.toString().trim() === ''\r\n      ) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n  export { XNotify };"],"names":["$75aa520dfb7f3d3e$var$delayField","document","querySelector","$75aa520dfb7f3d3e$var$delayStepField","$75aa520dfb7f3d3e$var$promiceAmountField","$75aa520dfb7f3d3e$var$form","$75aa520dfb7f3d3e$var$Notify","constructor","position","this","empty","defaults","width","borderRadius","duration","color","success","title","description","background","error","alert","info","setOptions","options","type","element","createElement","showNotification","getElementById","body","getElementsByTagName","height","paddingRight","paddingLeft","top","right","bottom","left","container","id","style","appendChild","align","row","generateID","notification","classList","add","innerHTML","append","getElementsByClassName","scrollHeight","window","innerHeight","scrollTo","prepend","opacity","animation","setInterval","clearInterval","setTimeout","hideNotification","remove","clear","notifications","i","length","epoch","shuffle","invalid","string","parts","toString","split","random","parseInt","Math","temp","join","date","Date","round","getTime","value","trim","$75aa520dfb7f3d3e$var$createPromise","delay","shouldResolve","Promise","res","rej","addEventListener","e","preventDefault","currentTimer","Number","stepDelay","promises","val","anotherPromiseInTheWall","then","catch","push","allSettled","console","log"],"version":3,"file":"03-promises.795203e0.js.map"}